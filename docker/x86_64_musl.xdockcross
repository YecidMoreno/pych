#!/usr/bin/env bash

ARGS=""

for dev in /dev/ttyUSB*; do
  ARGS+=" --device=$dev"
done

docker run --rm -it \
  --network=host \
  --cap-add=NET_ADMIN \
  -v .:/work \
  -w /work \
  -v /etc/passwd:/etc/passwd:ro \
  -v ~/.ssh:/home/$(hostname)/.ssh \
  $ARGS \
  alpine-can-dev "$@"

# -v /dev:/dev \
# --device=/dev/ttyUSB0 \
# --user $(id -u):$(id -g) \
